<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>상세 페이지</title>
  <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  <script src="./centerList.js"></script>
  <style>
        table {
          background-color: black;
          color: white;
        }
        td {
          padding-left: 10px;
        }
        td.theader {
          text-align: center;
          font-weight: bold;
        }
    </style>
</head>
<body>
  <div id="app">
        <h2>코로나19 예방접종센터 상세 페이지</h2>
        <table>
            <colgroup>
                <col width="150px"/>
                <col width="500px"/>
            </colgroup>
            <tr>
              <td class="theader">센터명</td>
              <td>{{center.centerName}}</td>
            </tr>
            <tr>
              <td class="theader">센터유형</td>
              <td>{{center.centerType}}</td>
            </tr>
            <tr>
              <td class="theader">주소</td>
              <td>{{center.address}}</td>
            </tr>
            <tr>
              <td class="theader">센터시설명</td>
              <td>{{center.facilityName}}</td>
            </tr>
            <tr>
              <td class="theader">전화번호</td>
              <td>{{center.phoneNumber}}</td>
            </tr>
            <tr>
              <td class="theader">생성일</td>
              <td>{{center.createdAt}}</td>
            </tr>
            <tr>
              <td class="theader">수정일</td>
              <td>{{center.updatedAt}}</td>
            </tr>
        </table>
    </div>

    <script type="module">
    new Vue({
        el:"#app",
        data() {
            return {
              center: {},
            };
        },
        created() {
          const params = new URL(document.location).searchParams;
          const zipCode = params.get("zip");

          var centers = centerList.data;
          
          for(const center of centers) {
            if(center.zipCode == zipCode) {
              this.center = center;
              break;
            }
          }
        },
    });
</script>
</body>
</html>